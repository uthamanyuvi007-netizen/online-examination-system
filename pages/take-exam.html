<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Take Exam - Online Examination</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/exam.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="exam-container">
        <!-- Proctoring Bar -->
        <div class="proctoring-bar">
            <div class="camera-feed">
                <video id="cameraFeed" autoplay muted></video>
                <div class="camera-status">
                    <i class="fas fa-video"></i>
                    <span>Camera Active</span>
                </div>
            </div>
            
            <!-- Theme Toggle -->
            <div class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
                <i class="fas fa-sun"></i>
                <div class="toggle-ball"></div>
            </div>
            
            <div class="proctoring-warnings" id="proctoringWarnings">
                <!-- Warnings will appear here -->
            </div>
            
            <div class="exam-timer" id="timer">
                <i class="fas fa-clock"></i>
                <span id="timeDisplay">60:00</span>
            </div>
        </div>
        
        <!-- Exam Content -->
        <div class="exam-content">
            <div class="exam-header">
                <h2>Mathematics Final Exam</h2>
                <div class="question-palette">
                    <span class="palette-item answered">1</span>
                    <span class="palette-item">2</span>
                    <span class="palette-item">3</span>
                    <span class="palette-item">4</span>
                    <span class="palette-item">5</span>
                    <span class="palette-item">6</span>
                    <span class="palette-item">7</span>
                    <span class="palette-item">8</span>
                    <span class="palette-item">9</span>
                    <span class="palette-item">10</span>
                </div>
            </div>
            
            <!-- Current Question -->
            <div class="question-container">
                <div class="question-number">Question 1 of 10</div>
                <div class="question-text">
                    What is the value of x in the equation: 2x + 5 = 15?
                </div>
                
                <div class="options-container">
                    <label class="option">
                        <input type="radio" name="answer" value="A">
                        <span class="option-text">A) x = 5</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="answer" value="B">
                        <span class="option-text">B) x = 10</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="answer" value="C">
                        <span class="option-text">C) x = 7.5</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="answer" value="D">
                        <span class="option-text">D) x = 20</span>
                    </label>
                </div>
            </div>
            
            <!-- Navigation Buttons -->
            <div class="exam-navigation">
                <button class="nav-btn prev" disabled><i class="fas fa-arrow-left"></i> Previous</button>
                <button class="nav-btn mark-review">Mark for Review</button>
                <button class="nav-btn next">Next <i class="fas fa-arrow-right"></i></button>
                <button class="nav-btn submit" onclick="submitExam()">Submit Exam</button>
            </div>
        </div>
    </div>
    
    <script src="../js/api.js"></script>
    <script src="../js/main.js"></script>
    <script>
        if (window.API && typeof API.setToken === 'function') API.setToken(localStorage.getItem('token'));
        const _user = sessionStorage.getItem('user');
        if (!_user || !localStorage.getItem('token')) {
            window.location.href = '../login.html';
        }
    </script>
    <script src="../js/exam.js"></script>
    <script src="../js/proctoring.js"></script>
</body>
</html>